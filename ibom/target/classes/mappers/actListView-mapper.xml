<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE mapper PUBLIC
"-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="actListViewMapper">
	
	<select id="selectActListView" parameterType="CommonPaging" resultType="ActListView">
		<![CDATA[
			select * from (
				select rownum rnum, apply_date, transferor, apply_status, 
				dolbom_type, service_type, family_name, dolbomi_id, care_day,
				start_time, end_time, total_pay, dolbom_place, user_address, dol_address, service1_no,log_category
       		    from ACT_LIST_VIEW)
				 where rnum >= #{startList} and rnum <= #{endList} and dolbomi_id = #{ibom_id}
		]]>
	</select>
	<select id="getListCount" parameterType="string" resultType="_int">
		select count(*) from ACT_LIST_VIEW where dolbomi_id = #{value}
	</select>
	
	<select id="searchDolActList" parameterType="AsDate" resultType="ActListView">
		select * 
		from ACT_LIST_VIEW 
		where TO_CHAR(apply_date,'YY/MM/DD')BETWEEN TO_CHAR(#{stDate},'YY/MM/DD') and TO_CHAR(#{endDate},'YY/MM/DD') and dolbomi_id = #{dol_id} and LOG_CATEGORY = #{log_category}
	</select>
	
</mapper>